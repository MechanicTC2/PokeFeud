<!DOCTYPE html>
<html>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.4/jquery.min.js"></script>
    <script>
        let playerTeam = '<%=team1%>';
        var stip = playerTeam.split(",")
        let opponentTeam = '<%=team2%>';
        var stip2 = playerTeam.split(",")
        let playerPokemon = stip[0];
        let opponentPokemon = stip2[0];
        console.log(team2)
        let playerTeamHp = [<%=playModel.generateHp(team1)%>];
        let opponentTeamHp = [<%=playModel.generateHp(team2)%>];
        function switched(x,team){
            var currteam = stip
            var y = currteam[x];
            var newX = String(x);
            var currelem = document.getElementById("bsprite");
            var t = x
            var v = document.getElementById("swit"+t)
            var c = v.innerHTML
            currelem.src = "/images/back/" + v.innerHTML + ".png";
            c = v.innerHTML
            v.innerHTML = playerPokemon
            playerPokemon = c
        }
    </script>
    </head>
    <body>
        <embed src="/music/music.mp3" loop="true" autostart="true" width="0" height="0">
        <center><h1><%= title %></h1></center>
        <center><img src = '/images/backgrounds/<%= bg %>'; style = "width: 50%; height: 50%;"></center>
        <img src = "/images/back/<%= team1[0] %>.png" id = "bsprite" style = "position: absolute; bottom: 18%; left: 25%; height: 300px; width:300px">
        <img src = "/images/front/<%= team2[0] %>.png" style = "position: absolute; top: 10%; left: 50%; height: 300px; width: 300px;">
        <center>
        <div class = "inter">
            <h1 id="action-text">What will you do?</h1>
        <div class = "button-container">
            <button class="move" id="move1" onclick="opponentTurn(0)" style = " width:10%; aspect-ratio: 5/3;"><%= playModel.getMoves(team1[0], 0) %></button>
            <button class="move" id="move2" onclick="opponentTurn(1)" style = " width:10%; aspect-ratio: 5/3;"><%= playModel.getMoves(team1[0], 1) %></button>
            <button class="move" id="move3" onclick="opponentTurn(2)" style = " width:10%; aspect-ratio: 5/3;"><%= playModel.getMoves(team1[0], 2) %></button>
            <button class="move" id="move4" onclick="opponentTurn(3)" style = " width:10%; aspect-ratio: 5/3;"><%= playModel.getMoves(team1[0], 3) %></button>
        </div>
            <button type = "button" class="switch" id = "swit1" onclick="switched(1, '<%=team1%>')" style = " width:8%; aspect-ratio: 2/1;"><%=team1[1]%></button>
            <button type = "button" class="switch" id = "swit2" onclick="switched(2, '<%=team1%>')" style = " width:8%; aspect-ratio: 2/1;"><%=team1[2]%></button>
            <button type = "button" class="switch" id = "swit3" onclick="switched(3, '<%=team1%>')" style = " width:8%; aspect-ratio: 2/1;"><%=team1[3]%></button>
            <button type = "button" class="switch" id = "swit4" onclick="switched(4, '<%=team1%>')" style = " width:8%; aspect-ratio: 2/1;"><%=team1[4]%></button>
            <button type = "button" class="switch" id = "swit5" onclick="switched(5, '<%=team1%>')" style = " width:8%; aspect-ratio: 2/1;"><%=team1[5]%></button>
        </div></center>
        <div id = "hpbg1"></div>
        <div id = "hp1"></div>
        <div id = "hpbg2"></div>
        <div id = "hp2"></div>
    </body>
</html>
